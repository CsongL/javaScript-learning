<html>
    <head>
        <title>图片懒加载</title>
        <style>
            img {
                width: 100%;
                height: 600px;
            }
        </style>
    </head>
    <body>
        <img
        src="https://cdn.pixabay.com/photo/2021/08/24/15/38/sand-6570980_960_720.jpg"
        alt="1"
      />
      <img
        src="https://cdn.pixabay.com/photo/2013/02/21/19/06/drink-84533_960_720.jpg"
        alt="2"
      />
      <img
        data-src="https://cdn.pixabay.com/photo/2014/12/15/17/16/boardwalk-569314_960_720.jpg"
        alt="3"
      />
      <img
        data-src="https://cdn.pixabay.com/photo/2013/07/18/20/26/sea-164989_960_720.jpg"
        alt="4"
      />
      <img
        data-src="https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885_960_720.jpg"
        alt="5"
      />
      <img
        data-src="https://cdn.pixabay.com/photo/2017/03/26/21/54/yoga-2176668_960_720.jpg"
        alt="6"
      />
      <img
        data-src="https://cdn.pixabay.com/photo/2015/03/17/14/05/sparkler-677774_960_720.jpg"
        alt="7"
      />
      <!-- 引入lodash文件 -->
      <script src = "https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.20/lodash.js"></script>
      <script>
          const images = documnet.querySelectorAll("img");
          const lazyLoad = () => {
              images.forEach((item) => {
                  console.log()
                  // 通过元素的getBdouningClientRect()方法获取该元素距离视图窗口顶部的距离，但离视图窗口还有100px时，开始加载图片
                  if(item.getBoundingClientRect().top < document.documentElement.clientHeight + 100){
                      if("src" in item.dataset) {
                          item.src = item.dataset.src;
                      }
                  }
              })
          }
          // 通过lodash的throttle方法来进行节流操作
          document.addEventListener("scroll", _.throttle(lazyLoad, 200))
      </script>
    </body>
</html>